<Lems>

        <!-- Example with instances of cells in populations having different parameters... -->


             <!-- NOT YET FULLY TESTED!!!! -->


<!-- Specify which component to run -->
<Target component="sim1"/>

<!-- Include core NeuroML2 ComponentType definitions -->
<Include file="Cells.xml"/>
<Include file="Networks.xml"/>
<Include file="Simulation.xml"/>


        <!-- Main NeuroML2 content. Based on http://www.izhikevich.org/publications/figure1.m -->

<izhikevichCell id="izMixed" v0 = "-70mV" thresh = "30mV" a ="0.02" b = "0.2" c = "-55.0" d = "4"/>
<pulseGeneratorDL id="i0" delay="22ms" duration="2000ms" amplitude="15" />

<network id="net1">
    <!--<population id="izpop" component="izMixed" size="3"/>-->
        
    <populationList id="izpop" component="izMixed" size="3">
        <instance id="0"/>
        <instance id="1"/>
        <instance id="2"/><!---->
    </populationList>

    <!-- -->
    <explicitInput target="izpop[0]" input="i0" destination="synapses"/>
</network>

        <!-- End of NeuroML2 content -->

<!--
<Simulation id="sim1" length="200ms" step="0.005ms" target="net1">
    <Display id="d1" title="Ex13: Izhikevich cell in LEMS" timeScale="1ms">
        <Line id ="iz0" quantity="izpop[0]/v" scale="1mV"  color="#ee40FF" save="examples/testResults/iz_V_0.dat"/>
        <Line id ="iz1" quantity="izpop[1]/v" scale="1mV"  color="#eeffFF" save="examples/testResults/iz_V_1.dat"/>
        <Line id ="iz2" quantity="izpop[2]/v" scale="1mV"  color="#40eeFF" save="examples/testResults/iz_V_2.dat"/>
    </Display>
</Simulation>-->

    <SimulationSet id="sim1">
        <Display id="disp1" title="Ex13: Populations" xmin="0" xmax="300" ymin="-90" ymax="60"/>

        <Simulation id="sim1" length="300ms" step="0.01ms" target="net1" display="disp1">

            <DisplayList timeScale="1ms" title="Ex13: Populations">

                <Line id ="l1" quantity="izpop/baseCell[0]/v" scale="1mV"  color="#f33fff" timeScale="1ms"/>
                <!--<Line id ="l2" quantity="izpop[1]/v" scale="1mV"  color="#BBA0AA" timeScale="1ms"/>
                <Line id ="l3" quantity="izpop[2]/v" scale="1mV"  color="#BBFFAA" timeScale="1ms"/>-->
            </DisplayList>
        </Simulation>
    </SimulationSet>

</Lems>